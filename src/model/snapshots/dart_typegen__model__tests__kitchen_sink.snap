---
source: src/model/tests.rs
expression: ron
---
Library {
    preamble: Some(
        "\n  // woohoo look a comment at the start of the file\n",
    ),
    postamble: Some(
        "\n  class _CustomAnnotation {\n    const _CustomAnnotation();\n  }\n",
    ),
    meta: None,
    defaults: Some(
        Defaults {
            generate_to_string: Some(
                SpannedScalar {
                    value: true,
                    span: SourceSpan {
                        offset: SourceOffset(
                            134,
                        ),
                        length: 4,
                    },
                },
            ),
            generate_equals: None,
            dart_format_language_version: None,
            class: Some(
                ClassOptions {
                    annotations: None,
                    builder_annotations: Some(
                        SpannedScalar {
                            value: "@_CustomAnnotation()",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    249,
                                ),
                                length: 22,
                            },
                        },
                    ),
                },
            ),
            union: Some(
                UnionOptions {
                    sealed: Some(
                        SpannedScalar {
                            value: true,
                            span: SourceSpan {
                                offset: SourceOffset(
                                    161,
                                ),
                                length: 4,
                            },
                        },
                    ),
                    json_discriminant: Some(
                        SpannedScalar {
                            value: "custom-discriminant",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    188,
                                ),
                                length: 21,
                            },
                        },
                    ),
                },
            ),
            field: Some(
                FieldOptions {
                    json_key_case: Some(
                        SpannedScalar {
                            value: Snake,
                            span: SourceSpan {
                                offset: SourceOffset(
                                    305,
                                ),
                                length: 7,
                            },
                        },
                    ),
                },
            ),
        },
    ),
    enums: [
        Enum {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Color",
                span: SourceSpan {
                    offset: SourceOffset(
                        909,
                    ),
                    length: 7,
                },
            },
            docs: None,
            variants: [
                EnumVariant {
                    name: SpannedScalar {
                        value: "red",
                        span: SourceSpan {
                            offset: SourceOffset(
                                929,
                            ),
                            length: 5,
                        },
                    },
                    docs: Some(
                        SpannedScalar {
                            value: "a bad color",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    946,
                                ),
                                length: 13,
                            },
                        },
                    ),
                    json_value: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    976,
                                    987,
                                ),
                                value: String(
                                    "ew, gross",
                                ),
                            },
                        },
                    ),
                },
                EnumVariant {
                    name: SpannedScalar {
                        value: "green",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1002,
                            ),
                            length: 7,
                        },
                    },
                    docs: Some(
                        SpannedScalar {
                            value: "\nThe best color\n\nTruly, there has never been a greater color\n    ",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1021,
                                ),
                                length: 70,
                            },
                        },
                    ),
                    json_value: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    1108,
                                    1111,
                                ),
                                value: Int(
                                    Integer(
                                        Dec,
                                        "123",
                                    ),
                                ),
                            },
                        },
                    ),
                },
                EnumVariant {
                    name: SpannedScalar {
                        value: "blue",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1127,
                            ),
                            length: 6,
                        },
                    },
                    docs: None,
                    json_value: None,
                },
            ],
            extra_dart: [
                SpannedScalar {
                    value: "void hello() {}",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1148,
                        ),
                        length: 17,
                    },
                },
                SpannedScalar {
                    value: "\n    void goodbye() => print(\"cya\");\n  ",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1179,
                        ),
                        length: 44,
                    },
                },
            ],
        },
    ],
    classes: [
        Class {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "TopLevel",
                span: SourceSpan {
                    offset: SourceOffset(
                        476,
                    ),
                    length: 10,
                },
            },
            allow_non_pascal_case: None,
            fields: [
                Field {
                    name: SpannedScalar {
                        value: "name",
                        span: SourceSpan {
                            offset: SourceOffset(
                                497,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "String",
                        span: SourceSpan {
                            offset: SourceOffset(
                                509,
                            ),
                            length: 8,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "age",
                        span: SourceSpan {
                            offset: SourceOffset(
                                526,
                            ),
                            length: 5,
                        },
                    },
                    ty: SpannedScalar {
                        value: "int",
                        span: SourceSpan {
                            offset: SourceOffset(
                                537,
                            ),
                            length: 5,
                        },
                    },
                    defaults_to: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    603,
                                    606,
                                ),
                                value: Int(
                                    Integer(
                                        Dec,
                                        "123",
                                    ),
                                ),
                            },
                        },
                    ),
                    defaults_to_dart: None,
                    docs: Some(
                        SpannedScalar {
                            value: "the age of this toplevel thing",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    554,
                                ),
                                length: 32,
                            },
                        },
                    ),
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "color",
                        span: SourceSpan {
                            offset: SourceOffset(
                                620,
                            ),
                            length: 7,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Color",
                        span: SourceSpan {
                            offset: SourceOffset(
                                633,
                            ),
                            length: 7,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: Some(
                        SpannedScalar {
                            value: "Color.green",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    664,
                                ),
                                length: 13,
                            },
                        },
                    ),
                    docs: Some(
                        SpannedScalar {
                            value: "\nThe color of the thing\n\nDefaults to [Color.green] because it's the best color\n    ",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    687,
                                ),
                                length: 88,
                            },
                        },
                    ),
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "pet",
                        span: SourceSpan {
                            offset: SourceOffset(
                                789,
                            ),
                            length: 5,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Animal",
                        span: SourceSpan {
                            offset: SourceOffset(
                                800,
                            ),
                            length: 8,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "secondPet",
                        span: SourceSpan {
                            offset: SourceOffset(
                                818,
                            ),
                            length: 11,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Animal?",
                        span: SourceSpan {
                            offset: SourceOffset(
                                835,
                            ),
                            length: 9,
                        },
                    },
                    defaults_to: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    859,
                                    863,
                                ),
                                value: Null,
                            },
                        },
                    ),
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "data",
                        span: SourceSpan {
                            offset: SourceOffset(
                                876,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "List<Data>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                888,
                            ),
                            length: 12,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
            ],
            docs: None,
            json_key_case: None,
            json_discriminant_value: None,
            annotations: None,
            builder_annotations: None,
            extra_dart: None,
            builder_extra_dart: None,
        },
        Class {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Data",
                span: SourceSpan {
                    offset: SourceOffset(
                        2088,
                    ),
                    length: 6,
                },
            },
            allow_non_pascal_case: None,
            fields: [
                Field {
                    name: SpannedScalar {
                        value: "dogs",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2105,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Set<Dog>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2117,
                            ),
                            length: 10,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "cats",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2136,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "List<Cat>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2148,
                            ),
                            length: 11,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "animals",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2168,
                            ),
                            length: 9,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Map<String, Animal>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2183,
                            ),
                            length: 21,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
            ],
            docs: None,
            json_key_case: None,
            json_discriminant_value: None,
            annotations: None,
            builder_annotations: None,
            extra_dart: None,
            builder_extra_dart: None,
        },
    ],
    unions: [
        Union {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Unused",
                span: SourceSpan {
                    offset: SourceOffset(
                        1285,
                    ),
                    length: 8,
                },
            },
            sealed: Some(
                SpannedScalar {
                    value: false,
                    span: SourceSpan {
                        offset: SourceOffset(
                            1301,
                        ),
                        length: 5,
                    },
                },
            ),
            json_discriminant: Some(
                SpannedScalar {
                    value: "something-custom-for-unused",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1329,
                        ),
                        length: 29,
                    },
                },
            ),
            json_discriminant_value_case: Some(
                SpannedScalar {
                    value: ScreamingSnake,
                    span: SourceSpan {
                        offset: SourceOffset(
                            1390,
                        ),
                        length: 17,
                    },
                },
            ),
            docs: None,
            classes: [
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "X",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1420,
                            ),
                            length: 3,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [],
                    docs: None,
                    json_key_case: None,
                    json_discriminant_value: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    1454,
                                    1464,
                                ),
                                value: String(
                                    "unused_x",
                                ),
                            },
                        },
                    ),
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "Y",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1477,
                            ),
                            length: 3,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [],
                    docs: None,
                    json_key_case: None,
                    json_discriminant_value: None,
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
            ],
            extra_dart: [],
        },
        Union {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Animal",
                span: SourceSpan {
                    offset: SourceOffset(
                        1489,
                    ),
                    length: 8,
                },
            },
            sealed: None,
            json_discriminant: None,
            json_discriminant_value_case: None,
            docs: Some(
                SpannedScalar {
                    value: "\nSome docs for animal\n\nIt's either a dog or a cat\n  ",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1507,
                        ),
                        length: 57,
                    },
                },
            ),
            classes: [
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "Dog",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1573,
                            ),
                            length: 5,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [
                        Field {
                            name: SpannedScalar {
                                value: "name",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1619,
                                    ),
                                    length: 6,
                                },
                            },
                            ty: SpannedScalar {
                                value: "String",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1631,
                                    ),
                                    length: 8,
                                },
                            },
                            defaults_to: Some(
                                Value {
                                    type_name: None,
                                    literal: Spanned {
                                        span: Span(
                                            1660,
                                            1665,
                                        ),
                                        value: String(
                                            "Dog",
                                        ),
                                    },
                                },
                            ),
                            defaults_to_dart: None,
                            docs: Some(
                                SpannedScalar {
                                    value: "the name",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            1677,
                                        ),
                                        length: 10,
                                    },
                                },
                            ),
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "color",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1704,
                                    ),
                                    length: 7,
                                },
                            },
                            ty: SpannedScalar {
                                value: "Color",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1717,
                                    ),
                                    length: 7,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "aliases",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1735,
                                    ),
                                    length: 9,
                                },
                            },
                            ty: SpannedScalar {
                                value: "List<String>",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1750,
                                    ),
                                    length: 14,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                    ],
                    docs: Some(
                        SpannedScalar {
                            value: "Fun-loving buddy",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1590,
                                ),
                                length: 18,
                            },
                        },
                    ),
                    json_key_case: None,
                    json_discriminant_value: None,
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "Cat",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1778,
                            ),
                            length: 5,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [
                        Field {
                            name: SpannedScalar {
                                value: "name",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1822,
                                    ),
                                    length: 6,
                                },
                            },
                            ty: SpannedScalar {
                                value: "String",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1834,
                                    ),
                                    length: 8,
                                },
                            },
                            defaults_to: Some(
                                Value {
                                    type_name: None,
                                    literal: Spanned {
                                        span: Span(
                                            1863,
                                            1884,
                                        ),
                                        value: String(
                                            "Destroyer of Worlds",
                                        ),
                                    },
                                },
                            ),
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "satanicPower",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1901,
                                    ),
                                    length: 14,
                                },
                            },
                            ty: SpannedScalar {
                                value: "int",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1921,
                                    ),
                                    length: 5,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: Some(
                                SpannedScalar {
                                    value: "9001",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            1952,
                                        ),
                                        length: 6,
                                    },
                                },
                            ),
                            docs: None,
                            to_json: Some(
                                SpannedScalar {
                                    value: "(i) => i ^ 121",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            1973,
                                        ),
                                        length: 16,
                                    },
                                },
                            ),
                            from_json: Some(
                                SpannedScalar {
                                    value: "(i) => i ^ 121",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            2006,
                                        ),
                                        length: 16,
                                    },
                                },
                            ),
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "data",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        2039,
                                    ),
                                    length: 6,
                                },
                            },
                            ty: SpannedScalar {
                                value: "Map<String, dynamic>",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        2051,
                                    ),
                                    length: 22,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                    ],
                    docs: Some(
                        SpannedScalar {
                            value: "Evil hellspawn",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1795,
                                ),
                                length: 16,
                            },
                        },
                    ),
                    json_key_case: None,
                    json_discriminant_value: None,
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
            ],
            extra_dart: [],
        },
    ],
}
