---
source: src/model/tests.rs
expression: ron
---
Library {
    preamble: Some(
        "\n  // woohoo look a comment at the start of the file\n",
    ),
    postamble: Some(
        "\n  class _CustomAnnotation {\n    const _CustomAnnotation();\n  }\n",
    ),
    meta: None,
    defaults: Some(
        Defaults {
            generate_to_string: Some(
                SpannedScalar {
                    value: true,
                    span: SourceSpan {
                        offset: SourceOffset(
                            134,
                        ),
                        length: 4,
                    },
                },
            ),
            generate_equals: None,
            dart_format_language_version: None,
            class: Some(
                ClassOptions {
                    annotations: Some(
                        SpannedScalar {
                            value: "@_CustomAnnotation()",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    380,
                                ),
                                length: 22,
                            },
                        },
                    ),
                    builder_annotations: Some(
                        SpannedScalar {
                            value: "@_CustomAnnotation()",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    427,
                                ),
                                length: 22,
                            },
                        },
                    ),
                },
            ),
            union: Some(
                UnionOptions {
                    sealed: Some(
                        SpannedScalar {
                            value: true,
                            span: SourceSpan {
                                offset: SourceOffset(
                                    161,
                                ),
                                length: 4,
                            },
                        },
                    ),
                    json_discriminant: Some(
                        SpannedScalar {
                            value: "custom-discriminant",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    188,
                                ),
                                length: 21,
                            },
                        },
                    ),
                    annotations: Some(
                        SpannedScalar {
                            value: "@_CustomAnnotation()",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    226,
                                ),
                                length: 22,
                            },
                        },
                    ),
                    builder_annotations: Some(
                        SpannedScalar {
                            value: "@_CustomAnnotation()",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    273,
                                ),
                                length: 22,
                            },
                        },
                    ),
                },
            ),
            enum: Some(
                EnumOptions {
                    annotations: Some(
                        SpannedScalar {
                            value: "@_CustomAnnotation()",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    326,
                                ),
                                length: 22,
                            },
                        },
                    ),
                },
            ),
            field: Some(
                FieldOptions {
                    json_key_case: Some(
                        SpannedScalar {
                            value: Snake,
                            span: SourceSpan {
                                offset: SourceOffset(
                                    483,
                                ),
                                length: 7,
                            },
                        },
                    ),
                },
            ),
        },
    ),
    enums: [
        Enum {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Color",
                span: SourceSpan {
                    offset: SourceOffset(
                        1087,
                    ),
                    length: 7,
                },
            },
            docs: None,
            annotations: None,
            extra_dart: Some(
                SpannedScalar {
                    value: "\n    void goodbye() => print(\"cya\");\n  ",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1326,
                        ),
                        length: 44,
                    },
                },
            ),
            variants: [
                EnumVariant {
                    name: SpannedScalar {
                        value: "red",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1107,
                            ),
                            length: 5,
                        },
                    },
                    docs: Some(
                        SpannedScalar {
                            value: "a bad color",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1124,
                                ),
                                length: 13,
                            },
                        },
                    ),
                    json_value: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    1154,
                                    1165,
                                ),
                                value: String(
                                    "ew, gross",
                                ),
                            },
                        },
                    ),
                },
                EnumVariant {
                    name: SpannedScalar {
                        value: "green",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1180,
                            ),
                            length: 7,
                        },
                    },
                    docs: Some(
                        SpannedScalar {
                            value: "\nThe best color\n\nTruly, there has never been a greater color\n    ",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1199,
                                ),
                                length: 70,
                            },
                        },
                    ),
                    json_value: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    1286,
                                    1289,
                                ),
                                value: Int(
                                    Integer(
                                        Dec,
                                        "123",
                                    ),
                                ),
                            },
                        },
                    ),
                },
                EnumVariant {
                    name: SpannedScalar {
                        value: "blue",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1305,
                            ),
                            length: 6,
                        },
                    },
                    docs: None,
                    json_value: None,
                },
            ],
        },
    ],
    classes: [
        Class {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "TopLevel",
                span: SourceSpan {
                    offset: SourceOffset(
                        654,
                    ),
                    length: 10,
                },
            },
            allow_non_pascal_case: None,
            fields: [
                Field {
                    name: SpannedScalar {
                        value: "name",
                        span: SourceSpan {
                            offset: SourceOffset(
                                675,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "String",
                        span: SourceSpan {
                            offset: SourceOffset(
                                687,
                            ),
                            length: 8,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "age",
                        span: SourceSpan {
                            offset: SourceOffset(
                                704,
                            ),
                            length: 5,
                        },
                    },
                    ty: SpannedScalar {
                        value: "int",
                        span: SourceSpan {
                            offset: SourceOffset(
                                715,
                            ),
                            length: 5,
                        },
                    },
                    defaults_to: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    781,
                                    784,
                                ),
                                value: Int(
                                    Integer(
                                        Dec,
                                        "123",
                                    ),
                                ),
                            },
                        },
                    ),
                    defaults_to_dart: None,
                    docs: Some(
                        SpannedScalar {
                            value: "the age of this toplevel thing",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    732,
                                ),
                                length: 32,
                            },
                        },
                    ),
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "color",
                        span: SourceSpan {
                            offset: SourceOffset(
                                798,
                            ),
                            length: 7,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Color",
                        span: SourceSpan {
                            offset: SourceOffset(
                                811,
                            ),
                            length: 7,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: Some(
                        SpannedScalar {
                            value: "Color.green",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    842,
                                ),
                                length: 13,
                            },
                        },
                    ),
                    docs: Some(
                        SpannedScalar {
                            value: "\nThe color of the thing\n\nDefaults to [Color.green] because it's the best color\n    ",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    865,
                                ),
                                length: 88,
                            },
                        },
                    ),
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "pet",
                        span: SourceSpan {
                            offset: SourceOffset(
                                967,
                            ),
                            length: 5,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Animal",
                        span: SourceSpan {
                            offset: SourceOffset(
                                978,
                            ),
                            length: 8,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "secondPet",
                        span: SourceSpan {
                            offset: SourceOffset(
                                996,
                            ),
                            length: 11,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Animal?",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1013,
                            ),
                            length: 9,
                        },
                    },
                    defaults_to: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    1037,
                                    1041,
                                ),
                                value: Null,
                            },
                        },
                    ),
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "data",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1054,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "List<Data>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1066,
                            ),
                            length: 12,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
            ],
            docs: None,
            json_key_case: None,
            json_discriminant_value: None,
            annotations: None,
            builder_annotations: None,
            extra_dart: None,
            builder_extra_dart: None,
        },
        Class {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Data",
                span: SourceSpan {
                    offset: SourceOffset(
                        2235,
                    ),
                    length: 6,
                },
            },
            allow_non_pascal_case: None,
            fields: [
                Field {
                    name: SpannedScalar {
                        value: "dogs",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2252,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Set<Dog>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2264,
                            ),
                            length: 10,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "cats",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2283,
                            ),
                            length: 6,
                        },
                    },
                    ty: SpannedScalar {
                        value: "List<Cat>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2295,
                            ),
                            length: 11,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
                Field {
                    name: SpannedScalar {
                        value: "animals",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2315,
                            ),
                            length: 9,
                        },
                    },
                    ty: SpannedScalar {
                        value: "Map<String, Animal>",
                        span: SourceSpan {
                            offset: SourceOffset(
                                2330,
                            ),
                            length: 21,
                        },
                    },
                    defaults_to: None,
                    defaults_to_dart: None,
                    docs: None,
                    to_json: None,
                    from_json: None,
                    json_key: None,
                },
            ],
            docs: None,
            json_key_case: None,
            json_discriminant_value: None,
            annotations: None,
            builder_annotations: None,
            extra_dart: None,
            builder_extra_dart: None,
        },
    ],
    unions: [
        Union {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Unused",
                span: SourceSpan {
                    offset: SourceOffset(
                        1432,
                    ),
                    length: 8,
                },
            },
            sealed: Some(
                SpannedScalar {
                    value: false,
                    span: SourceSpan {
                        offset: SourceOffset(
                            1448,
                        ),
                        length: 5,
                    },
                },
            ),
            json_discriminant: Some(
                SpannedScalar {
                    value: "something-custom-for-unused",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1476,
                        ),
                        length: 29,
                    },
                },
            ),
            json_discriminant_value_case: Some(
                SpannedScalar {
                    value: ScreamingSnake,
                    span: SourceSpan {
                        offset: SourceOffset(
                            1537,
                        ),
                        length: 17,
                    },
                },
            ),
            annotations: None,
            builder_annotations: None,
            docs: None,
            classes: [
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "X",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1567,
                            ),
                            length: 3,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [],
                    docs: None,
                    json_key_case: None,
                    json_discriminant_value: Some(
                        Value {
                            type_name: None,
                            literal: Spanned {
                                span: Span(
                                    1601,
                                    1611,
                                ),
                                value: String(
                                    "unused_x",
                                ),
                            },
                        },
                    ),
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "Y",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1624,
                            ),
                            length: 3,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [],
                    docs: None,
                    json_key_case: None,
                    json_discriminant_value: None,
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
            ],
            extra_dart: [],
        },
        Union {
            span: Span(
                0,
                0,
            ),
            name: SpannedScalar {
                value: "Animal",
                span: SourceSpan {
                    offset: SourceOffset(
                        1636,
                    ),
                    length: 8,
                },
            },
            sealed: None,
            json_discriminant: None,
            json_discriminant_value_case: None,
            annotations: None,
            builder_annotations: None,
            docs: Some(
                SpannedScalar {
                    value: "\nSome docs for animal\n\nIt's either a dog or a cat\n  ",
                    span: SourceSpan {
                        offset: SourceOffset(
                            1654,
                        ),
                        length: 57,
                    },
                },
            ),
            classes: [
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "Dog",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1720,
                            ),
                            length: 5,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [
                        Field {
                            name: SpannedScalar {
                                value: "name",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1766,
                                    ),
                                    length: 6,
                                },
                            },
                            ty: SpannedScalar {
                                value: "String",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1778,
                                    ),
                                    length: 8,
                                },
                            },
                            defaults_to: Some(
                                Value {
                                    type_name: None,
                                    literal: Spanned {
                                        span: Span(
                                            1807,
                                            1812,
                                        ),
                                        value: String(
                                            "Dog",
                                        ),
                                    },
                                },
                            ),
                            defaults_to_dart: None,
                            docs: Some(
                                SpannedScalar {
                                    value: "the name",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            1824,
                                        ),
                                        length: 10,
                                    },
                                },
                            ),
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "color",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1851,
                                    ),
                                    length: 7,
                                },
                            },
                            ty: SpannedScalar {
                                value: "Color",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1864,
                                    ),
                                    length: 7,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "aliases",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1882,
                                    ),
                                    length: 9,
                                },
                            },
                            ty: SpannedScalar {
                                value: "List<String>",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1897,
                                    ),
                                    length: 14,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                    ],
                    docs: Some(
                        SpannedScalar {
                            value: "Fun-loving buddy",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1737,
                                ),
                                length: 18,
                            },
                        },
                    ),
                    json_key_case: None,
                    json_discriminant_value: None,
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
                Class {
                    span: Span(
                        0,
                        0,
                    ),
                    name: SpannedScalar {
                        value: "Cat",
                        span: SourceSpan {
                            offset: SourceOffset(
                                1925,
                            ),
                            length: 5,
                        },
                    },
                    allow_non_pascal_case: None,
                    fields: [
                        Field {
                            name: SpannedScalar {
                                value: "name",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1969,
                                    ),
                                    length: 6,
                                },
                            },
                            ty: SpannedScalar {
                                value: "String",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        1981,
                                    ),
                                    length: 8,
                                },
                            },
                            defaults_to: Some(
                                Value {
                                    type_name: None,
                                    literal: Spanned {
                                        span: Span(
                                            2010,
                                            2031,
                                        ),
                                        value: String(
                                            "Destroyer of Worlds",
                                        ),
                                    },
                                },
                            ),
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "satanicPower",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        2048,
                                    ),
                                    length: 14,
                                },
                            },
                            ty: SpannedScalar {
                                value: "int",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        2068,
                                    ),
                                    length: 5,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: Some(
                                SpannedScalar {
                                    value: "9001",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            2099,
                                        ),
                                        length: 6,
                                    },
                                },
                            ),
                            docs: None,
                            to_json: Some(
                                SpannedScalar {
                                    value: "(i) => i ^ 121",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            2120,
                                        ),
                                        length: 16,
                                    },
                                },
                            ),
                            from_json: Some(
                                SpannedScalar {
                                    value: "(i) => i ^ 121",
                                    span: SourceSpan {
                                        offset: SourceOffset(
                                            2153,
                                        ),
                                        length: 16,
                                    },
                                },
                            ),
                            json_key: None,
                        },
                        Field {
                            name: SpannedScalar {
                                value: "data",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        2186,
                                    ),
                                    length: 6,
                                },
                            },
                            ty: SpannedScalar {
                                value: "Map<String, dynamic>",
                                span: SourceSpan {
                                    offset: SourceOffset(
                                        2198,
                                    ),
                                    length: 22,
                                },
                            },
                            defaults_to: None,
                            defaults_to_dart: None,
                            docs: None,
                            to_json: None,
                            from_json: None,
                            json_key: None,
                        },
                    ],
                    docs: Some(
                        SpannedScalar {
                            value: "Evil hellspawn",
                            span: SourceSpan {
                                offset: SourceOffset(
                                    1942,
                                ),
                                length: 16,
                            },
                        },
                    ),
                    json_key_case: None,
                    json_discriminant_value: None,
                    annotations: None,
                    builder_annotations: None,
                    extra_dart: None,
                    builder_extra_dart: None,
                },
            ],
            extra_dart: [],
        },
    ],
}
